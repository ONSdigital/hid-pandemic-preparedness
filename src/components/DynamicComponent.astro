---
import ContentArea from "@src/components/ContentArea.astro";

import { CaseStudies } from "@src/components/Organisms/Home/CaseStudies/CaseStudies";
import { Formula } from "./Molecules/Core/Formula/Formula";
import { FullWidthRichText } from "@src/components/Organisms/Core/FullWidthRichText/FullWidthRichText";
import { Header } from "@src/components/Organisms/Home/Header/Header";
import { IconButton } from "./Molecules/Core/IconButton/IconButton";
import { Iframe } from "@/src/components/Organisms/Core/Iframe/Iframe";
import { ImageAndText } from "@src/components/Organisms/Home/ImageAndText/ImageAndText";
import { Impact } from "@src/components/Organisms/Home/Impact/Impact";
import { QuickLinks } from "@/src/components/Organisms/Home/QuickLinks/QuickLinks";
import { RichText } from "@src/components/Organisms/Core/RichText/RichText";
import { StatisticsAndText } from "@src/components/Organisms/Home/StatisticsAndText/StatisticsAndText";
import { StrategicPartners } from "@src/components/Organisms/Home/StrategicPartners/StrategicPartners";
import { Table } from "@src/components/Molecules/Core/Table/Table";
import { Tip } from "@src/components/Molecules/Core/Tip/Tip";
import { ToolsCarousel } from "@src/components/Organisms/Home/ToolsCarousel/ToolsCarousel";
import { UnitBlock } from "@/src/components/Organisms/Unit/UnitBlock/UnitBlock";
import { Video } from "@/src/components/Organisms/Core/Video/Video";

// List of components that we have corresponding bloks for in Storyblok
const COMPONENT_NAMES: string[] = [
  "Carousel",
  "CaseStudies",
  "Formula",
  "FullWidthRichText",
  "Header",
  "IconButton",
  "Iframe",
  "ImageAndText",
  "Impact",
  "QuickLinks",
  "StatisticsAndText",
  "StrategicPartners",
  "Table",
  "Tip",
  "ToolsCarousel",
  "UnitBlock",
  "Video",
];

const { blok } = Astro.props;
const componentName: string = blok.component;

// If we are trying to render a blok we don't have a corresponding component for, log a warning
if (!COMPONENT_NAMES.includes(blok.component)) {
  console.warn(
    `DynamicComponent warning: Component "${componentName}" not found in COMPONENT_MAP.`,
  );
}
---

{
  componentName ? (
    componentName === "ContentArea" ? (
      <ContentArea {...blok} />
    ) : componentName === "UnitBlock" ? (
      <UnitBlock {...blok} />
    ) : componentName === "CaseStudies" ? (
      <CaseStudies {...blok} />
    ) : componentName === "FullWidthRichText" ? (
      <FullWidthRichText {...blok} />
    ) : componentName === "RichText" ? (
      <RichText {...blok} />
    ) : componentName === "Header" ? (
      <Header {...blok} />
    ) : componentName === "IconButton" ? (
      <IconButton {...blok} client:visible />
    ) : componentName === "Iframe" ? (
      <Iframe {...blok} client:visible />
    ) : componentName === "ImageAndText" ? (
      <ImageAndText {...blok} />
    ) : componentName === "Impact" ? (
      <Impact {...blok} />
    ) : componentName === "StatisticsAndText" ? (
      <StatisticsAndText {...blok} />
    ) : componentName === "StrategicPartners" ? (
      <StrategicPartners {...blok} />
    ) : componentName === "QuickLinks" ? (
      <QuickLinks {...blok} />
    ) : componentName === "Table" ? (
      <Table {...blok} client:visible />
    ) : componentName === "Tip" ? (
      <Tip {...blok} />
    ) : componentName === "ToolsCarousel" ? (
      <ToolsCarousel {...blok} client:visible />
    ) : componentName === "Formula" ? (
      <Formula {...blok} client:visible />
    ) : componentName === "Video" ? (
      <Video {...blok} client:visible />
    ) : null
  ) : null
}

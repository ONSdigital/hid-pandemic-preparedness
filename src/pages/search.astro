---
import BaseLayout from "@layouts/BaseLayout.astro";
import { SearchBar } from "@components/Molecules/SearchBar/SearchBar";
import { Header } from "@/src/components/Organisms/Core/Header/Header";
import headerData from "@content/search-results/header.json";
import ThemedSection from "@components/Util/ThemedSection.astro";
import themedStyles from "@components/Util/ThemedSection.module.scss"

const urlParams = Astro.url.searchParams;
const initialQuery = urlParams.get("params") || ""; // TODO: fix this, or remove it
const pageTitle = initialQuery
  ? `Search Results for "${initialQuery}"`
  : "Site Search";
---

<BaseLayout title={pageTitle}>
  <main>
    <Header {...headerData} />

    <ThemedSection>
      <div class="row justify-content-center my-5">
        <div class="col-lg-6">
          <div class="col-xl-9 pt-2">
            <SearchBar
              placeholder="Search the site..."
              isResultsPage={true}
              client:load
            />
          </div>
        </div>
      </div>
    </ThemedSection>

    <div id="search-results-portal" class={themedStyles.section} ></div>

  </main>
</BaseLayout>